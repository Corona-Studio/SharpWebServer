using SharpWebServer.Attributes;
using SharpWebServer.Attributes.FromAttributes;
using SharpWebServer.Interfaces;
using SharpWebServer.Models;

namespace SharpWebServerDemo;

[ApiController]
public class XController : Controller
{
    [HttpGet(Path = "sessionserver/session/minecraft/profile/{uuid}")]
    public IActionResult GetProfile([FromRoute] string uuid, [FromQuery] bool unsigned = true)
    {
        const string testImage =
            "iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAFxlJREFUeJzdW0lzXNd1BiUSE4mJpEw7SWWVcrzLD8jClUW2WWSTXZKqSLZjyiIlgiJFCiIJDgCJeSAJUAQHkaatcpyqOFVZZZHYjgaKmNFo9Px67tev5/n19OWc+/CAJrobDYq0VMmpunXvO/fh9T3DPcM9F01NDSCbSyKVjiGdiSOnpkTjMeN4zmY1w+V0iN7ndYtWiWv0/UaQy+UQi8WqvsM4nnvZ7zeETDaBaExBQPbA63OKxmPG8ZxTssPrccFht4q+csxzL/v70WgU5XK56juM47lKXGdn535uL/ubz0EyGYcs+2GzWWA0GkTjMeN4jiUd8HtFrzOgEvdKF/NtgKpmidNhuN1O2Emy3HjMOJ5jKSvBgFB9OeATjceMexUasBeoJfVXpgmJRAJ+vx9WqxXr6+ui8ZhxPMfqHo2EREvEo6Lpzzz3ShbxbUKpVBKEer1ekr5dNB4zjuckhw0p2grZTAp50ghuPGYcz33b639piIYj8Hm8sFmsMG+YROMx43iOpZxJJ1HI51AsqKLxmHH/PzSgUISazSGbziCXyYrGY8bxnJ0MIhOrS19vjOO5b2KNFkv179TC1YSCWiSCcohHE6JXs3kkYkmgDISVCBFZFvhkPAV+lxuPGccMYHVPpxJbTFBzGfHMfblUEPhcNi3eYxw3HjOO57LZrNhOjdaZSqWQyWRE43Gj95PJJMLhMIrFIuLxeNX7jOO5JiY2l1EFwUxsJBTdIh4lCEJ5nhnDfeWY51IJYha9qDOBx/qW0InnbaH3lWPueZEMOxd45MiRP9HHbGsCgQDy+bxoPGbcbgxg4hiYwcy0nfOM47kmJhJ5IBPP4vz7H2JyZAqj18eAooaLKXHBiFKuDDWVF43HjIspUcQiUZSKeUEwykXBANYEHadrAhPLfeWY5yqlMzo6Ksa3b99+bsHscXjBHPxw4zHjGmkBB0r8/VoMZpz4bSYoHcsABWB67Cby6QKGrg0LIpn4MilHRI4iFU1vMYDHjCurJaEtHPSwRJl4Vm/udQawFjCxrCGM48ZjfXtULmp8fLxqoSxtBo/HI7YKNx4z8FwjJjDUiyTFIBXNCGn6nAHcvX1PSD6fLiIcYKIzcJid+Oc3j+PET98VeG48ZpzDLMElOYUkYxQYJRMxQbS+3yNhBfFYRBDN8/oW4DHjeK7eoplAlrLZbAbvZ8bpDOAx43iOmdEoJ9iVAS6bhyRNRitVwIVzl0jtcwh6Q4Ipb/3jj3H8Rz/Dv/3Lv+PsqXNIRtKi8Zhxx3/0Nn52/G0h8SCFxkwQj9n9cRwQUmQREfKW4AiRVZ8bjxnHc/VUmfewzWZDJFKfSTzHrVayxMDf1rfPzrmtbRSRY4JoljQzgZnhlfy0LbL46Vtv49Q7pwUzPv/tl6KvHJ96pxdv/dObglDeBrpkzSajkD4TyuEwawYzhRnEjceM4zlJkmoung3UxsYGTCZTXQbw3NraWhWTDh8+3MO92+3edZuIOePKBql7BGaDBX5XQIy9kg9uu0c0p9Wl2YgShH3gxmPGOWySyAuYIA9tBadDgl2yIKB44PN5sEGJk8m4IRhkMKxC9gcQIu2yLJsQDYRhNZjRtr+1ud4CdeDQeyfuRVJtl8dd9S4zp+bL7N7mv1qA2+nB4vwS8rkCRXwx4SJdUp0/qlys3wSDaxkujwPBAG0BXxDrawb4Am5ikAszV2dR8hIz/WQkwxRHyORKAxkkqU3euNnw+2ytUzFynUVV9Hk1hWQqgs6e9u/viRuNfwAU6/tJtdZpDzrI72r+NJ3OYmFhCd3dh7tr/V1LU8v+5qYD+wNJL5Scn959BreVskJnkCRtRZD2ezQYw/0rj1C20gcT1GRyIeSlCgHSKnIeI5fGGgdETDx7nCJrInmVPAdU2zag52jHX3Df2tX6p1+LAdlMARYzn+ZQ+msj9U+plNlpkaHk8NRc4LGO73z/YNOhv2xvOtjBkja7jORVvCK+YAIjrgg8Djc8Zi9mz8/hl5f/FTPn71AgoTHizuAMpvoncfnMZRxpO/pXu60PKgct5F79QRTIz1NURt4q9PIh95HuY4JzOXJzi89W4SZDuPDVCgo5zfAp5Ba9Lrnqhw7ua29mwo82HfvbDsrCw0oI4WgQsiOAicuTGPtoHEGrgjR5D9kSxOP+XyD+NIuJ96Yp3KT1u7P4ZPwerAsWzE18jEOvHeys/P5OG1GMkaqoZRRIm8ChBylCOhhB+779W/n/oda2lj0TnouoKCXLiHrpgzntgwu/X0RQUrD8+QrWnxlhWjQj7k9g/ncLWPqM9veGG/Y1h5Cwe8WD2Usf4+GFx4ivJUnKbljWzZi6Oo17Q/dx//oDjJ4fg7TugOkLM3KrRfxm8D9wn96PrEUhr3khmzwIWLxwGR0wzhuwNr8Gl8UF04ppi0jRsqSGqaK2zlAGeR9pQJwmkkVEXYqmcTQd8gahMa+9oYFtAhl40dIQ+1DszdjmmHu5pM1TaAB282ENX/SqAud66sLDgce498EnUJ6Ri1t1QCZNEYuUN79B7yX9SfgMfjj/04u77z3Aw/7HkL6QkHBFYSWvEHYrcJucUDyK8BSODYfo80miKkv0x3JijSWFHuIlgUMwi3IoL5hUjFBordA7yZJg1sH9hzobEs/w4PQEYKePEDN/8eEMPjkzRfoOCHyQfsSmijnxjiUrxh+fHBb9p/1ziCyF8KvRX2PozXEUTKRJzhgSAcq0lLLGVGJoUdYWJa04EXkWx8NzT/Dk+i+hGIJwrUvCJbLNCLj9sFns5DrNwubMf7EgQnEhWWaoqglq8FQ/Bt+9hJnL07h+ZgAX3vkIoxfHcInwk9emkQqm0XGgu2dPDLj13jCe9N/F3bOTGH/7GqZOXMfji3fw8ZkJ8Xzn/XFMvjOI6ZM3xPjmu0PinUcXZjF8/BqUhaDYz7++9hvIn5OPn7eKhU5emta0hjRg5MNRxCjg8lv8CC/E8EnfE9w8PyO2T9AdFBkhB0Qc5uYLJSwvr1LsEIPXHUDvu2cxOzWHGxeHcOHUJQwSwVOXJpByxKD6KLRWKPkKUe5BAlHsUQx8OIyxgem9G0WrUabQN4scGXrJEobdpGDsxl3RW9YDFAhFxJj71QVJvGOkhc9M/RyWFS98Kwo+Hf4V7p15hNhyknx6CgWKKFnaUWtMNB6rqRyScgLh1RjukCf4xdincBu9wuUmcil4FT+ynCmSe/MFyWhm8vB4ZQqyPLCRXfFJtC3WXNp2pO0ZonWk3BlEpSTSAco1vBn4bJR30Lyaqc7+6oI/XAA3hzcJqyuGEKnsAv0QB39L6x4YLLLoLc4ojDYFZiki3plfdSJJ0k16VIycHMP9c48oZaMds2wTXiNgDdACKXdwpaA4FKHSvK/zriIeXP4E104OEENS8PllUhjKH8h9RnNpxClXcFKMztGHz08eJZRCLExpM+39WIDSbN5SJG0PCU4NlUXP24KJd1tDwgjKZLAPHjxydE8MUGPa/sqSgctFtSb2GzHAbqBYfkOGackJt1lBgNTOuurRDBDtS16MbAhh9sJdzJy6i5wlD7/NJ/b7wPkBEQOwrRi+OIxMilJof0RowNxHDzDVNw2f1Q+7y03rz8Ngt2wZfCMlQZxpS04f5RhR5NJlpKMFxIMUk/hIW8Nl2FdojojOkvov/Y9BMMdEmqb4ienx4t41oBDZNC7ciLB0QBVjlT7sMwXhJ8Ld635IRLhspfh9URIS4HeyMoWz/jLG35/C5b8fQGQxjqg7KqTQ33tZ8xgklCvvXxVawcZRfqbg2pvXMXJ6DCppXjyREkRLlDsUNS8GtyfACoNEPAunnRKzRAkJJQ+H0QefJUR+v4CgPQEHbUXHCrndBQfsq27IzgiSYZWCuNoBW03g/ZRRVCFxNVJEOalJN0eL85oD5JvJOpPqb8xb6Mdl+K0UgcXKmgaQ9mSkLGY//Bgf9z5AkYx3hiTBjGTfb/9MEm3o7LB4n7cDaIfMnpgTWpBypkV4XCyXKGXNiXA7k+KjtrxQhWgwDhdFj4o7RpKm9Jg0USZbtPGVjYSjwL7ognNJEobWs072xEQxhYM8i+1FGEC0x5U0SrToVCSnEcY0UIDhsQdg33CRAQrCsGiCk4IV2R1GLlGEmtyMD2gLTp68iaF/GEfgv8MIGGSE7GE8Gvo5UsYM0htZzF29jwwZWudXLiS/zOLa3w1htneODAUxPUrGMUoEJjIoZ0kAFOzkyednQrQxaD1sP2Sbts8VUnn7vITh86MYvzCJ62dvYIbc3rm3enHpRB+unr6Ii6f64LV40NzUvLfKUDZXAjdWuRyFmDyOxTNIJHNwSF7Y7BT1UQ6wYbKLsZXygxRJiFt+M2ga/vE4HvX+EtigwOgrL0k6Ldzcoyvk7698iukzt1DwFmH/vRMgL/nwHcL9ZFYEVnkKZgqJLKk1aQKpfCmmIkPeAlH6Pvnz6f5x9J/8CJfJ7/f9tA/T5F4niXj3kkcIIG2nj0Q3AyOKai+e+ADDFwbRtlcGxMg4ZQtFcJ/JU6qZU8kVlUS/brbASnm+wWSGzekSbdmwLuZ5r6qZEsbOT2Lu4n3cPfMAt8/cxe1rs8JWzFEIzBLmdm/gIbmtCGYv38Gd0w/w4P0neND3c0yfu4nZoRmEyN/nielZci/cOOqLUBY5O3wTpbAWAQoC05pxVgM5YaiZeSIKDCQpN0jRu6zGrJnVR2C7QkdX40Ji9+GemmkwA6fCbZQQNVO/c+7Aa20dz7/b1tHe1PHdrtd7/prT572usXnfgf2cGLW8ti1ZxrVUfIOfud/LIcsWtB1srSKsufVA254/0Aia9+/Th6/tf/25hRE5NRf6ymv8LwvdBLvN1+J4seIsXi29oEruAn9w5rQ2t+1JfRq9l83lt4hOpp4/lfVKHvQc6t7K2b/3ve/98OnTp99OIbWjtbMqa7IatbI2H5LaTQ60vNYq9jEXQ/jAlMeLT5cE/lBLR1tHc8fWljnYpn2P3YqP8nI5wOd2r04DGkEjba0LXe3aH+qHCPpzLdAZUnngoOMYYpEk4tHtAmYixuFp9dl8+wHt9Ee/68N1AFnWTp1Cod2PuY4ePbp15ldrW+hH4w3haMcbP6h8bt3X1tHStE1MT/vhYzq+8pCBn7mvxHW39Yh3C+QeD7V09ix9tUIZpaZNibDGkD868sc/3LmGYFA7wdHTYh7zmT0XSL+2RPcKw1dHxA8y0ZNDUxi4OAgmjsc7321/XZPYxI1JMTc2qNXybo3dBuP4eWRwTBRYbo5vFziHB0ZRIr89OTKNaxcGwN/mv9Hn9TIVa0I6nRZjvaDpcGxftPL5fKLQwYyqRw8zcOftsV0hGtg+Uk5S6plQkoIBlXgddM3IxVVU9gxcTeL6YsSvJUP8rRIFJNg80Qn7IojJcQTcwarv6vV+vf5fidO1greEy+V69bZEV1uGzpauHl21dWnXAv2dSjjSub2VRDpd3HaDghGbz+0Hqs/qdGlXMqBWSbsSenqqA7PKOwUvBM37qiM4HXRDx9b+je7v7Fp90b/D9wpa92naoiclnA7X+zudWGxCJe4bA90d1nKL9Y6XuzoOb/nynu43vquPmdjBS4NbBIxfHxc1xXq/rZe/VVUFt0qcXvllS882oFadcCfw/aAX0oadQU1XR3dLvfmDbYeEz+/u7KkqPiwtrSAWiYt64NzMXehx+60JSmpyRUh2JzweXxUBhYLGHK7z67V+HVdZPWY7wJVgXTtquT+er3UnaE9Q6Vt3g52uqb2z6w3u+XzPaDShmK++v8NFV7PZipVVg5jbd6B5K0fQLT8TrROu43QXycAxAt9R3O2SFNuQRjFETejoOrT3clIdMFnMMBgMdX/c6XSiVqlaB74TIC4u/V8Cm1OC0+vBwsoy3F7tKIovLVQasXQyteXCHPT++oYRLp8Xq8b1r0UsZ5U7M8uXhu7DXXVDx1raUS9lfvrsS1hsZiyvLpE00+TD7aJPJGIoleobQh0yGb7yEhBH0+k03yvKiPp/1YvN21voDwovel6ghEMwkGTtkkMcsy0tLeneDYqioNYZQEdn25btiYa8GvEJBaV8Uowr6//14PDhozWtflfX88a6o6OrOrR+lfH20vIq7A4nVlbWyKCVYLdL5NoKCAa04kjluwfb2qsYmYzQeyUKH/NkD6IhxEOkDeX8N28X6uX7jc4BrBaJ3J0bq8vrSCWyiIYTCPnDmxcr49BjCj0TrISu5raWcipNUWMJGbL+oFiAb4Ko0eotcPTwsT/7urQ9B43y/UbnBaY1C+Y/W4DP4cfSl8v4/L++EOONBaM42+d6oDjQTGm1BG6Lv5uHbPPDsmgSh5tqJAM1lBYt4yc/T4xDhv44X9puBa5VxMXf8ynyc4zrqo5JXgpq5fu1zgv4UBPxslYfSGrXYcQdAhacP6eN9fsHyc27B+HN013ulRKS7s2bHnwfIZrXynLZzUoV3wlIaLhyPCcaMyIb0aLE7oPbecyLQE/PkW2hNsr3dzsvaG1q2Q8prd0jkGih1oyoEzw4Oyn6X/fP4fEH04A5LWqET87dFI3H994bEWWzqb4J9J34CFfPXMP7b53GxKVRDH94nRhEHEho2WQ+mNK0J1XC+ZNncWt4u/ytR6aVUM8gNoRa+f5u5wXMgOmzoxg5fgW3ekdw89QwJk4MYvb0GB723cbwT/ox0zuKT87fwpMLdzD9s0FMvT2Ax30zuHNqFGMnBpD1ZMH1yYycF1rA9carvVcw2jeCq6f7Mdk/hgdTczh7/DSGL13HlXP94q5B++v1r79wyV2WFQSDWkR49Oh3/txqtYswPJHY5ap9rXy/0XmBZFdgs8hk+EJYWbLDYVNgXHVhZvoRNtbcsG74EfKmwR7NZVEgmWRM3Lgjeq4+O9b9oh4ZdiURciZEUUWoPGmQfckBxREW124cBgnFdEm7sOWrfyBSCYoSFvVGl8sjWuVcZ2d3fbtRme83Oi8wWnxYNLpgdoWxbpdhlkIIkerO06LDRJhMqszN6Y3D7oogQnNLaxKStCsMfA9BVkUJnuv7XPpO0XPCn0Xckxa2g4uiUU9C7P2AKwSPM4hEtPp8UYc33jj2g3pzNWEv+f5u5wWS2YeNZYmkG4RfisJCUtdvmxWIAWpcM2hqpIw87f18xf0DyeCFm/7ObSV1dcVhXnHCvOgQGhEXzMhvXeBymf2IymmhAfNPV7cvRlYatF1gZwD0nAbUy/d7Dm3n+/XOC/iSA5fQ+foKl9EttA2Km+XzTDCHAhcu89v3D0T5nA1bqACfOUBMcBMTAuLvIu64uIvAZXfvRlDc/uD7CRmlQAyQ4TB6UCSGeB3ayfHOslslpFIZcdNVf2aboKfiVerfKN/f7byAb5n7SPXXF0zwEDO8tgBJvSg0oJgoCellQtqdAZXd3Ob9A5W2hY+0x7piQdAewMazDcjEiAARal9yIuZIwGcIaNfsSIuca15iSACGpxuwGbTEqnlfa00GxONJ+Ck1Z6J1nCS5KE2OUF6iNrYf9ULjWucFfK3W4wxgdckIh9UNv4cklswjmypsXXGLh5LiVFj8cwY9l4kZbGD9Ni+uklUf6x/Cld6P0PvmCdy6Momrpy7Du+hGcE1GUkqJa3auZTei9hiunx/G2OUJNDe1ddQ6m2QIh6OIRGLPMYA9A3uFPTGgFtQ7L7A4JFglN9bNNlgcZAztTiQyqmh80yubK4rGiZGaKyGXLSLOhRKK5tx2F2lEHoUgGbm4dgO05Mtg/IMhaiMYfPcqbvZN4cKP+zBxfhw3eq9joHeAtCOOY23f/ZuWGtXobxwsTkp8zGZYKd/ntrS+jmypJO79pPJ57Lx/kCEJ8F1A7q1GC/JKTFx1LfoSWqTItf9NtdcvWYnIMbQZPWa0aLOdNYDc9p6uw+4C/wtg/bRcuTg27gAAAABJRU5ErkJggg==";
        const string x =
            "{\r\n    \"id\": \"f105ee9d03c21f5504d87eef65d640c1\",\r\n    \"name\": \"llr\",\r\n    \"properties\": [\r\n        {\r\n            \"name\": \"textures\",\r\n            \"value\": \"eyJ0aW1lc3RhbXAiOjE2NDcyMzI1NjUsInByb2ZpbGVJZCI6ImYxMDVlZTlkMDNjMjFmNTUwNGQ4N2VlZjY1ZDY0MGMxIiwicHJvZmlsZU5hbWUiOiJsbHIiLCJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly8xMjcuMC4wLjE6NjUwMzEveWdnZHJhc2lsL3NraW4vRkU0NDY2NzE5Qzk1RkFERUYzRkYxODE4MjY3NzNFOTY0MEU5OERDNUE4QzhBQzQ2OUVFQjFBMzk2MUI5NTNEOSIsIm1ldGFkYXRhIjp7Im1vZGVsIjoic2xpbSJ9fX19\"\r\n        }\r\n    ]\r\n}";
        // return new BytesActionResult(200, Convert.FromBase64String(testImage));
        return Ok(x);
    }

    [HttpGet(ResponseContentType = "application/json")]
    public IActionResult GetMetaRoot()
    {
        return Ok(new
        {
            Meta = new
            {
                ServerName = "P2P.NET",
                ImplementationName = "P2P.NET Skin Helper (NOT FOR AUTHENTICATION)",
                ImplementationVersion = "0.0.1",
                Links = new
                {
                    HomePage = "https://corona.studio/",
                    Register = "https://corona.studio/",
                    Login = "https://corona.studio/"
                }
            },
            SkinDomains = new[]
            {
                "localhost",
                "127.0.0.1"
            },
            SignaturePublickey = "x"
        });
    }
}